{{/* Hilton Credit Card Quiz Shortcode for Hugo */}}
{{/* Save this file to: layouts/shortcodes/hilton-quiz.html */}}

<div id="hilton-quiz" class="hilton-quiz-container">
  <div class="quiz-card" id="quiz-content">
    <!-- Quiz content loads here via JS -->
  </div>
</div>

<style>
  @import url('https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=Fraunces:opsz,wght@9..144,600;9..144,700&display=swap');

  .hilton-quiz-container {
    font-family: 'DM Sans', -apple-system, BlinkMacSystemFont, sans-serif;
    max-width: 640px;
    margin: 2rem auto;
    padding: 0 16px;
    box-sizing: border-box;
  }

  .hilton-quiz-container * {
    box-sizing: border-box;
  }

  .quiz-card {
    background: #ffffff;
    border-radius: 24px;
    padding: 32px;
    box-shadow: 0 4px 24px rgba(45, 90, 71, 0.08);
    animation: quizFadeIn 0.4s ease-out;
  }

  @keyframes quizFadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }

  /* Progress */
  .quiz-progress {
    margin-bottom: 28px;
  }

  .progress-bar {
    height: 8px;
    background: #e8e0d5;
    border-radius: 4px;
    overflow: hidden;
    margin-bottom: 10px;
  }

  .progress-fill {
    height: 100%;
    background: #2d5a47;
    border-radius: 4px;
    transition: width 0.4s ease-out;
  }

  .progress-text {
    font-size: 14px;
    color: #7d7167;
    font-weight: 500;
  }

  /* Question */
  .quiz-question {
    text-align: center;
    margin-bottom: 28px;
  }

  .question-icon {
    font-size: 44px;
    display: block;
    margin-bottom: 14px;
  }

  .question-text {
    font-family: 'Fraunces', Georgia, serif;
    font-size: 22px;
    font-weight: 600;
    color: #2d3a35;
    line-height: 1.35;
    margin: 0;
  }

  /* Options */
  .quiz-options {
    display: flex;
    flex-direction: column;
    gap: 10px;
    margin-bottom: 28px;
  }

  .option-btn {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    padding: 16px 18px;
    background: #faf8f5;
    border: 2px solid #e8e0d5;
    border-radius: 14px;
    cursor: pointer;
    transition: all 0.2s ease;
    text-align: left;
    width: 100%;
    font-family: inherit;
  }

  .option-btn:hover {
    border-color: #c4d4c9;
    background: #f5f0ea;
  }

  .option-btn.selected {
    background: #eef5f1;
    border-color: #2d5a47;
    box-shadow: 0 0 0 3px rgba(45, 90, 71, 0.1);
  }

  .option-label {
    font-size: 15px;
    font-weight: 600;
    color: #2d3a35;
    margin-bottom: 3px;
  }

  .option-desc {
    font-size: 13px;
    color: #7d7167;
  }

  /* Navigation */
  .quiz-nav {
    display: flex;
    gap: 12px;
  }

  .back-btn {
    padding: 14px 22px;
    background: transparent;
    border: 2px solid #e8e0d5;
    border-radius: 12px;
    font-size: 15px;
    font-weight: 600;
    color: #7d7167;
    cursor: pointer;
    font-family: inherit;
    transition: all 0.2s ease;
  }

  .back-btn:hover {
    border-color: #c4bdb3;
    color: #5a534b;
  }

  .next-btn {
    flex: 1;
    padding: 14px 28px;
    background: #2d5a47;
    border: none;
    border-radius: 12px;
    font-size: 15px;
    font-weight: 600;
    color: #ffffff;
    cursor: pointer;
    font-family: inherit;
    transition: all 0.2s ease;
  }

  .next-btn:hover:not(:disabled) {
    background: #245040;
  }

  .next-btn:disabled {
    background: #c4bdb3;
    cursor: not-allowed;
  }

  /* Results */
  .result-header {
    text-align: center;
    margin-bottom: 24px;
  }

  .result-icon {
    font-size: 36px;
    display: block;
    margin-bottom: 10px;
  }

  .result-title {
    font-family: 'Fraunces', Georgia, serif;
    font-size: 26px;
    font-weight: 700;
    color: #2d5a47;
    margin: 0;
  }

  .card-recommendation {
    position: relative;
    padding: 24px 20px;
    background: #faf8f5;
    border-radius: 18px;
    border-left: 4px solid #2d5a47;
    margin-bottom: 24px;
  }

  .card-badge {
    position: absolute;
    top: -10px;
    right: 16px;
    padding: 5px 12px;
    border-radius: 16px;
    font-size: 11px;
    font-weight: 700;
    color: #ffffff;
    background: #2d5a47;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }

  .card-name {
    font-family: 'Fraunces', Georgia, serif;
    font-size: 18px;
    font-weight: 700;
    color: #2d3a35;
    margin: 0 0 6px 0;
  }

  .card-fee {
    font-size: 15px;
    font-weight: 600;
    color: #2d5a47;
    margin: 0 0 6px 0;
  }

  .card-tagline {
    font-size: 14px;
    color: #7d7167;
    margin: 0;
    font-style: italic;
  }

  .benefits-section {
    margin-bottom: 24px;
  }

  .benefits-title {
    font-family: 'Fraunces', Georgia, serif;
    font-size: 16px;
    font-weight: 600;
    color: #2d3a35;
    margin: 0 0 14px 0;
  }

  .benefits-list {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .benefit-item {
    display: flex;
    align-items: flex-start;
    gap: 10px;
    padding: 9px 0;
    font-size: 14px;
    color: #4a5148;
    border-bottom: 1px solid #f0ebe3;
  }

  .benefit-item:last-child {
    border-bottom: none;
  }

  .checkmark {
    color: #2d5a47;
    font-weight: 700;
    flex-shrink: 0;
  }

  .why-section {
    background: #f0ebe3;
    padding: 18px;
    border-radius: 14px;
    margin-bottom: 24px;
  }

  .why-title {
    font-family: 'Fraunces', Georgia, serif;
    font-size: 15px;
    font-weight: 600;
    color: #2d3a35;
    margin: 0 0 10px 0;
  }

  .why-text {
    font-size: 14px;
    line-height: 1.6;
    color: #4a5148;
    margin: 0;
  }

  /* CTA Buttons */
  .cta-section {
    display: flex;
    flex-direction: column;
    gap: 10px;
    margin-bottom: 20px;
  }

  .primary-btn {
    display: block;
    width: 100%;
    padding: 16px 28px;
    background: #2d5a47;
    border: none;
    border-radius: 12px;
    font-size: 16px;
    font-weight: 700;
    color: #ffffff !important;
    text-align: center;
    text-decoration: none;
    font-family: inherit;
    cursor: pointer;
    transition: all 0.2s ease;
  }

  .primary-btn:hover {
    background: #245040;
    color: #ffffff;
  }

  .secondary-btn {
    display: block;
    width: 100%;
    padding: 14px 28px;
    background: transparent;
    border: 2px solid #2d5a47;
    border-radius: 12px;
    font-size: 15px;
    font-weight: 600;
    color: #2d5a47 !important;
    text-align: center;
    text-decoration: none;
    font-family: inherit;
    cursor: pointer;
    transition: all 0.2s ease;
  }

  .secondary-btn:hover {
    background: #eef5f1;
  }

  /* Share Section */
  .share-section {
    background: #faf8f5;
    border-radius: 14px;
    padding: 18px;
    margin-bottom: 20px;
    text-align: center;
  }

  .share-title {
    font-size: 14px;
    font-weight: 600;
    color: #2d3a35;
    margin: 0 0 12px 0;
  }

  .share-buttons {
    display: flex;
    justify-content: center;
    gap: 10px;
    flex-wrap: wrap;
  }

  .share-btn {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 10px 16px;
    background: #ffffff;
    border: 1px solid #e8e0d5;
    border-radius: 8px;
    font-size: 13px;
    font-weight: 500;
    color: #4a5148;
    text-decoration: none;
    cursor: pointer;
    transition: all 0.2s ease;
    font-family: inherit;
  }

  .share-btn:hover {
    background: #f5f0ea;
    border-color: #c4bdb3;
  }

  .share-btn.copied {
    background: #eef5f1;
    border-color: #2d5a47;
    color: #2d5a47;
  }

  /* Large Dog Warning */
  .large-dog-note {
    background: #fff8e6;
    border: 1px solid #f0d878;
    border-radius: 12px;
    padding: 14px 16px;
    margin-bottom: 20px;
    font-size: 13px;
    color: #7d6a28;
    line-height: 1.5;
  }

  .large-dog-note a {
    color: #2d5a47;
    font-weight: 600;
  }

  .restart-btn {
    display: block;
    width: 100%;
    padding: 12px;
    background: transparent;
    border: 2px solid #e8e0d5;
    border-radius: 12px;
    font-size: 14px;
    font-weight: 600;
    color: #7d7167;
    cursor: pointer;
    margin-bottom: 20px;
    font-family: inherit;
    transition: all 0.2s ease;
  }

  .restart-btn:hover {
    border-color: #c4bdb3;
    color: #5a534b;
  }

  .disclaimer {
    font-size: 12px;
    color: #9a928a;
    text-align: center;
    line-height: 1.5;
    margin: 0;
  }

  /* Mobile */
  @media (max-width: 480px) {
    .quiz-card {
      padding: 24px 20px;
      border-radius: 20px;
    }
    .question-text {
      font-size: 20px;
    }
    .result-title {
      font-size: 22px;
    }
    .share-buttons {
      flex-direction: column;
    }
    .share-btn {
      width: 100%;
      justify-content: center;
    }
  }
</style>

<script>
(function() {
  const questions = [
    {
      id: 'dog_travel',
      question: 'How often do you travel with your dog?',
      icon: 'üêï',
      options: [
        { value: 'rarely', label: 'A few times a year', desc: 'Special occasions only' },
        { value: 'monthly', label: 'About once a month', desc: 'Regular weekend adventures' },
        { value: 'frequent', label: 'Multiple times a month', desc: 'Always on the go together' },
        { value: 'fulltime', label: 'Full-time travelers', desc: 'Life on the road with my pup' }
      ]
    },
    {
      id: 'status',
      question: "What's your current Hilton Honors status?",
      icon: '‚≠ê',
      options: [
        { value: 'none', label: 'None or Silver', desc: 'Just getting started' },
        { value: 'gold', label: 'Gold', desc: 'Earned through stays or another card' },
        { value: 'diamond', label: 'Diamond', desc: 'Top-tier elite' },
        { value: 'want_status', label: 'I want status without hotel stays', desc: 'Give me the shortcut!' }
      ]
    },
    {
      id: 'travel_style',
      question: 'How do you typically travel with your pup?',
      icon: 'üöó',
      options: [
        { value: 'road_trips', label: 'Road trips only', desc: 'Car adventures are our thing' },
        { value: 'mostly_drive', label: 'Mostly driving', desc: 'Occasional flights without pup' },
        { value: 'mix', label: 'Mix of both', desc: 'Pup flies in cabin with me sometimes' },
        { value: 'frequent_flyer', label: 'Frequent flyer pup', desc: "We've got TSA down to a science" }
      ]
    },
    {
      id: 'hotel_nights',
      question: 'How many hotel nights do you book per year?',
      icon: 'üè®',
      options: [
        { value: 'few', label: '1-10 nights', desc: 'A few trips here and there' },
        { value: 'moderate', label: '11-25 nights', desc: 'Regular traveler' },
        { value: 'frequent', label: '26-50 nights', desc: 'Frequent hotel stays' },
        { value: 'heavy', label: '50+ nights', desc: 'Basically live in hotels' }
      ]
    },
    {
      id: 'pet_fee_pain',
      question: 'How much do pet fees affect your booking decisions?',
      icon: 'üí∏',
      options: [
        { value: 'no_big_deal', label: 'No big deal', desc: '$50-75 is fine for my pup' },
        { value: 'annoying', label: 'Pretty annoying', desc: 'They add up on multi-stop trips' },
        { value: 'hate_them', label: 'Really frustrating', desc: "I'd love to offset them with free nights" },
        { value: 'dealbreaker', label: 'Major booking factor', desc: 'I specifically seek lower-fee options' }
      ]
    },
    {
      id: 'spending',
      question: "What's your typical monthly credit card spending?",
      icon: 'üí≥',
      options: [
        { value: 'low', label: 'Under $1,500', desc: 'Including all the dog treats' },
        { value: 'moderate', label: '$1,500-$4,000', desc: 'Vet bills, food, and life' },
        { value: 'high', label: '$4,000-$8,000', desc: 'Spoiling my pup pays off in points' },
        { value: 'very_high', label: '$8,000+', desc: 'High spender, high rewards' }
      ]
    },
    {
      id: 'annual_fee',
      question: 'What annual fee would you pay for free pet-friendly hotel nights?',
      icon: 'üéÅ',
      options: [
        { value: 'none', label: '$0 only', desc: "I'd rather earn slowly than pay a fee" },
        { value: 'low', label: 'Up to $150', desc: 'Worth it for a free night' },
        { value: 'moderate', label: 'Up to $250', desc: 'Happy to pay for solid perks' },
        { value: 'premium', label: '$500+', desc: 'Premium perks for my premium pup' }
      ]
    }
  ];

  const cards = {
    honors: {
      name: 'Hilton Honors American Express Card',
      shortName: 'Hilton No-Fee Card',
      fee: '$0 annual fee',
      tagline: 'Start earning toward pet-friendly stays ‚Äî no commitment required',
      benefits: [
        '7X points at Hilton pet-friendly properties',
        '5X points at U.S. restaurants, supermarkets & gas stations',
        '3X points on all other purchases (vet bills count!)',
        'No foreign transaction fees',
        'Complimentary Silver status',
        '5th night free on award stays'
      ],
      bestFor: "You travel with your pup a few times a year and want to start stacking points without paying an annual fee. This card is perfect for earning on everyday spending ‚Äî every bag of dog food, gas station stop on your road trip, and dinner out adds up toward free nights.",
      primaryLink: '/posts/best-credit-cards-pet-travelers/',
      primaryText: 'See Full Card Breakdown ‚Üí',
      secondaryLink: '/posts/why-hilton-for-pet-travelers/',
      secondaryText: 'Why Hilton for Pets'
    },
    surpass: {
      name: 'Hilton Honors American Express Surpass',
      shortName: 'Hilton Surpass',
      fee: '$150 annual fee',
      tagline: 'The sweet spot for regular pet travelers',
      benefits: [
        '12X points at Hilton pet-friendly properties',
        '6X points at U.S. restaurants, supermarkets & gas stations',
        '3X points on all other purchases',
        'Complimentary Gold status (free breakfast!)',
        'Free Night Reward after $15K annual spend',
        '$200/year in Hilton credits ($50/quarter)',
        '10 Priority Pass lounge visits per year'
      ],
      bestFor: "You and your pup hit the road regularly and those pet fees are starting to add up. Gold status means complimentary breakfast at most properties ‚Äî perfect for fueling up before a morning walk. The $200 in quarterly credits more than pays for the $150 annual fee, and the free night certificate can cover a $300+ stay.",
      primaryLink: '/posts/best-credit-cards-pet-travelers/',
      primaryText: 'Full Card Breakdown ‚Üí',
      secondaryLink: '/posts/hilton-diamond-status-guide/',
      secondaryText: 'How to Earn Diamond'
    },
    aspire: {
      name: 'Hilton Honors American Express Aspire',
      shortName: 'Hilton Aspire',
      fee: '$550 annual fee',
      tagline: 'Premium perks for serious pet travelers',
      benefits: [
        '14X points at Hilton pet-friendly properties',
        '7X points on flights booked directly & car rentals',
        '3X points on all other purchases',
        'Complimentary Diamond status',
        'Free Night Reward every year (no spend required!)',
        '$400 Hilton resort credit annually',
        'Unlimited Priority Pass lounge access',
        '$200 airline fee credit'
      ],
      bestFor: "You're constantly on the road with your furry co-pilot and want the absolute best. Diamond status means room upgrades ‚Äî incredibly valuable when traveling with a larger dog who needs space to sprawl. The annual free night (worth up to 150K points!) plus $400 resort credit easily offset the fee.",
      primaryLink: '/posts/hilton-diamond-status-guide/',
      primaryText: 'See All Diamond Perks ‚Üí',
      secondaryLink: '/posts/best-credit-cards-pet-travelers/',
      secondaryText: 'Compare All Cards'
    },
    business: {
      name: 'Hilton Honors American Express Business Card',
      shortName: 'Hilton Business Card',
      fee: '$195 annual fee',
      tagline: 'Turn your pet business into pet-friendly vacations',
      benefits: [
        '12X points at Hilton pet-friendly properties',
        '6X points on shipping, gas, social media & phone plans',
        '3X points on all other business purchases',
        'Complimentary Gold status',
        'Free Night Reward after $15K annual spend',
        '10 Priority Pass lounge visits per year',
        'Separate business credit line'
      ],
      bestFor: "You run a pet-related business, blog, or side hustle (hey, dog Instagram counts!) and want to turn those expenses into travel rewards. Keep business spending separate while earning toward pet-friendly hotel stays. Every sponsored post, dog treat inventory purchase, or Chewy order gets you closer to your next adventure.",
      primaryLink: '/posts/best-credit-cards-pet-travelers/',
      primaryText: 'Compare All Cards ‚Üí',
      secondaryLink: '/posts/hilton-diamond-status-guide/',
      secondaryText: 'How to Get Diamond'
    }
  };

  let currentQ = 0;
  let answers = {};
  let selected = null;

  function calculateResult() {
    let scores = { honors: 0, surpass: 0, aspire: 0, business: 0 };

    // Dog travel frequency
    if (answers.dog_travel === 'rarely') scores.honors += 3;
    else if (answers.dog_travel === 'monthly') { scores.surpass += 2; scores.honors += 1; }
    else if (answers.dog_travel === 'frequent') { scores.surpass += 2; scores.aspire += 2; }
    else if (answers.dog_travel === 'fulltime') { scores.aspire += 4; }

    // Current status
    if (answers.status === 'none') { scores.honors += 1; scores.surpass += 2; }
    else if (answers.status === 'gold') { scores.aspire += 2; }
    else if (answers.status === 'diamond') { scores.aspire += 3; }
    else if (answers.status === 'want_status') { scores.surpass += 2; scores.aspire += 3; }

    // Travel style
    if (answers.travel_style === 'road_trips') scores.honors += 1;
    else if (answers.travel_style === 'mostly_drive') scores.surpass += 1;
    else if (answers.travel_style === 'mix') { scores.surpass += 1; scores.aspire += 1; }
    else if (answers.travel_style === 'frequent_flyer') scores.aspire += 3;

    // Hotel nights
    if (answers.hotel_nights === 'few') scores.honors += 3;
    else if (answers.hotel_nights === 'moderate') { scores.surpass += 2; scores.business += 1; }
    else if (answers.hotel_nights === 'frequent') { scores.surpass += 2; scores.aspire += 2; }
    else if (answers.hotel_nights === 'heavy') { scores.aspire += 4; }

    // Pet fee pain
    if (answers.pet_fee_pain === 'no_big_deal') scores.honors += 1;
    else if (answers.pet_fee_pain === 'annoying') scores.surpass += 2;
    else if (answers.pet_fee_pain === 'hate_them') { scores.surpass += 1; scores.aspire += 2; }
    else if (answers.pet_fee_pain === 'dealbreaker') scores.aspire += 3;

    // Monthly spending
    if (answers.spending === 'low') scores.honors += 3;
    else if (answers.spending === 'moderate') scores.surpass += 2;
    else if (answers.spending === 'high') { scores.surpass += 1; scores.aspire += 2; scores.business += 1; }
    else if (answers.spending === 'very_high') { scores.aspire += 3; scores.business += 2; }

    // Annual fee tolerance
    if (answers.annual_fee === 'none') scores.honors += 5;
    else if (answers.annual_fee === 'low') scores.surpass += 3;
    else if (answers.annual_fee === 'moderate') { scores.surpass += 1; scores.business += 2; }
    else if (answers.annual_fee === 'premium') scores.aspire += 4;

    return Object.entries(scores).reduce((a, b) => b[1] > a[1] ? b : a)[0];
  }

  function getShareText(cardName) {
    return `I got the ${cardName} for traveling with my dog! üêï Find your perfect Hilton card ‚Üí thepointspup.com/posts/hilton-credit-card-quiz/`;
  }

  function copyToClipboard(text, button) {
    navigator.clipboard.writeText(text).then(() => {
      const originalText = button.innerHTML;
      button.innerHTML = '‚úì Copied!';
      button.classList.add('copied');
      setTimeout(() => {
        button.innerHTML = originalText;
        button.classList.remove('copied');
      }, 2000);
    });
  }

  function renderQuestion() {
    const q = questions[currentQ];
    const progress = ((currentQ + 1) / questions.length) * 100;

    let html = `
      <div class="quiz-progress">
        <div class="progress-bar">
          <div class="progress-fill" style="width: ${progress}%"></div>
        </div>
        <span class="progress-text">Question ${currentQ + 1} of ${questions.length}</span>
      </div>
      <div class="quiz-question">
        <span class="question-icon">${q.icon}</span>
        <h3 class="question-text">${q.question}</h3>
      </div>
      <div class="quiz-options">
        ${q.options.map(opt => `
          <button class="option-btn ${selected === opt.value ? 'selected' : ''}" data-value="${opt.value}">
            <span class="option-label">${opt.label}</span>
            <span class="option-desc">${opt.desc}</span>
          </button>
        `).join('')}
      </div>
      <div class="quiz-nav">
        ${currentQ > 0 ? '<button class="back-btn" id="back-btn">‚Üê Back</button>' : ''}
        <button class="next-btn" id="next-btn" ${!selected ? 'disabled' : ''}>
          ${currentQ === questions.length - 1 ? 'See My Result' : 'Next ‚Üí'}
        </button>
      </div>
    `;

    document.getElementById('quiz-content').innerHTML = html;
    attachQuestionListeners();
  }

  function renderResult() {
    const cardKey = calculateResult();
    const card = cards[cardKey];
    const shareText = getShareText(card.shortName);
    const twitterUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(shareText)}`;
    const facebookUrl = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent('https://thepointspup.com/posts/hilton-credit-card-quiz/')}&quote=${encodeURIComponent(shareText)}`;

    let html = `
      <div class="result-header">
        <span class="result-icon">üêæ</span>
        <h3 class="result-title">Your Pup-fect Card Match!</h3>
      </div>
      <div class="card-recommendation">
        <span class="card-badge">Best Match</span>
        <h4 class="card-name">${card.name}</h4>
        <p class="card-fee">${card.fee}</p>
        <p class="card-tagline">${card.tagline}</p>
      </div>
      <div class="benefits-section">
        <h4 class="benefits-title">Key Benefits</h4>
        <ul class="benefits-list">
          ${card.benefits.map(b => `<li class="benefit-item"><span class="checkmark">‚úì</span>${b}</li>`).join('')}
        </ul>
      </div>
      <div class="why-section">
        <h4 class="why-title">Why This Card Fits You</h4>
        <p class="why-text">${card.bestFor}</p>
      </div>
      <div class="cta-section">
        <a href="${card.primaryLink}" class="primary-btn">${card.primaryText}</a>
        <a href="${card.secondaryLink}" class="secondary-btn">${card.secondaryText}</a>
      </div>
      <div class="share-section">
        <p class="share-title">Share your result with fellow pet travelers!</p>
        <div class="share-buttons">
          <a href="${twitterUrl}" target="_blank" rel="noopener" class="share-btn">üê¶ Twitter</a>
          <a href="${facebookUrl}" target="_blank" rel="noopener" class="share-btn">üìò Facebook</a>
          <button class="share-btn" id="copy-btn">üìã Copy Link</button>
        </div>
      </div>
      <div class="large-dog-note">
        <strong>Have a large dog (75+ lbs)?</strong> Hilton weight limits vary by property. Check out the <a href="/posts/hotel-credit-card-quiz/">all-hotel quiz</a> for IHG/Kimpton options with no weight limits.
      </div>
      <button class="restart-btn" id="restart-btn">‚Üª Take Quiz Again</button>
      <p class="disclaimer"><strong>Note:</strong> Hilton pet policies vary by property ‚Äî most allow dogs up to 50-75 lbs, but some have lower limits. Always call ahead to confirm your pup is welcome. Card terms may change; check the issuer's website for current details. üêï</p>
    `;

    document.getElementById('quiz-content').innerHTML = html;
    document.getElementById('restart-btn').addEventListener('click', restart);
    document.getElementById('copy-btn').addEventListener('click', function() {
      copyToClipboard(shareText, this);
    });
  }

  function attachQuestionListeners() {
    document.querySelectorAll('.option-btn').forEach(btn => {
      btn.addEventListener('click', function() {
        selected = this.dataset.value;
        document.querySelectorAll('.option-btn').forEach(b => b.classList.remove('selected'));
        this.classList.add('selected');
        document.getElementById('next-btn').disabled = false;
      });
    });

    document.getElementById('next-btn').addEventListener('click', function() {
      if (!selected) return;
      answers[questions[currentQ].id] = selected;
      selected = null;
      if (currentQ < questions.length - 1) {
        currentQ++;
        renderQuestion();
      } else {
        renderResult();
      }
    });

    const backBtn = document.getElementById('back-btn');
    if (backBtn) {
      backBtn.addEventListener('click', function() {
        if (currentQ > 0) {
          currentQ--;
          selected = answers[questions[currentQ].id] || null;
          renderQuestion();
        }
      });
    }
  }

  function restart() {
    currentQ = 0;
    answers = {};
    selected = null;
    renderQuestion();
  }

  // Initialize
  document.addEventListener('DOMContentLoaded', function() {
    if (document.getElementById('quiz-content')) {
      renderQuestion();
    }
  });

  // Fallback if DOM already loaded
  if (document.readyState !== 'loading') {
    renderQuestion();
  }
})();
</script>
